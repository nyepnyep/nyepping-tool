<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nyepping Tool</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            user-select: none;
        }
        
        html, body {
            height: 100%;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: transparent;
            color: #e0e0e0;
            overflow: hidden;
        }
        
        .container {
            width: 100%;
            height: 100%;
            background: url('bg.png') center center / cover no-repeat, linear-gradient(135deg, #1e1e2e 0%, #2a2a3e 100%);
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        
        .tabs {
            display: flex;
            background: #20202e;
            padding: 0;
            overflow-x: auto;
        }
        
        .tab {
            flex: 1;
            padding: 14px 6px;
            cursor: pointer;
            background: transparent;
            color: #a0a0a0;
            border: none;
            font-size: 12px;
            font-weight: 600;
            transition: all 0.2s ease;
            white-space: nowrap;
            border-bottom: 2px solid transparent;
            text-align: center;
        }
        
        .tab:hover {
            background: rgba(255, 255, 255, 0.05);
            color: #fff;
        }
        
        .tab.active {
            color: #9D00FF;
            border-bottom: 2px solid #9D00FF;
            background: rgba(157, 0, 255, 0.05);
        }
        
        .content {
            padding: 24px;
            flex: 1;
            overflow-y: auto;
            scrollbar-width: thin;
            scrollbar-color: rgba(255, 255, 255, 0.1) transparent;
        }
        
        .tab-pane {
            display: none;
            animation: fadeIn 0.2s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(5px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .tab-pane.active {
            display: block;
        }
        
        .section-header {
            color: #9D00FF;
            font-size: 12px;
            font-weight: 700;
            margin-bottom: 12px;
            padding-bottom: 6px;
            border-bottom: 1px solid rgba(157, 0, 255, 0.2);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-top: 8px;
        }
        
        .section-header:first-child {
            margin-top: 0;
        }
        
        .input-row {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
        }
        
        .input-field {
            flex: 1;
        }
        
        label {
            display: block;
            margin-bottom: 6px;
            color: #a0a0a0;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }
        
        input[type="number"],
        input[type="text"],
        select {
            width: 100%;
            padding: 10px 12px;
            background: #252535;
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-radius: 6px;
            color: #fff;
            font-size: 13px;
            font-family: inherit;
            transition: all 0.2s ease;
        }
        
        input[type="number"] {
            appearance: textfield;
        }
        
        input[type="number"]:focus,
        input[type="text"]:focus,
        select:focus {
            outline: none;
            border-color: #9D00FF;
            background: rgba(157, 0, 255, 0.05);
            box-shadow: 0 0 0 2px rgba(157, 0, 255, 0.1);
        }
        
        .checkbox-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-bottom: 20px;
        }
        
        .checkbox-wrapper {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            padding: 10px 14px;
            background: #252535;
            border-radius: 6px;
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.2s ease;
            flex: 1;
            min-width: 120px;
            position: relative;
        }
        
        .checkbox-wrapper:hover {
            background: rgba(255, 255, 255, 0.08);
            border-color: rgba(255, 255, 255, 0.1);
        }
        
        .checkbox-wrapper label {
            margin: 0;
            cursor: pointer;
            color: #e0e0e0;
            font-size: 13px;
            text-transform: none;
            display: flex;
            align-items: center;
            width: 100%;
        }
        
        input[type="checkbox"],
        input[type="radio"] {
            position: absolute;
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .checkbox-wrapper input[type="checkbox"] + label::before,
        .checkbox-wrapper input[type="radio"] + label::before {
            content: '';
            display: inline-block;
            width: 16px;
            height: 16px;
            margin-right: 10px;
            background: #1a1a2a;
            border: 2px solid rgba(255, 255, 255, 0.2);
            transition: all 0.2s ease;
            flex-shrink: 0;
            position: relative;
        }
        
        .checkbox-wrapper input[type="checkbox"] + label::before {
            border-radius: 4px;
        }
        
        .checkbox-wrapper input[type="radio"] + label::before {
            border-radius: 50%;
        }
        
        .checkbox-wrapper input[type="checkbox"]:checked + label::before {
            background: #9D00FF;
            border-color: #9D00FF;
            position: relative;
        }
        
        .checkbox-wrapper input[type="radio"]:checked + label::before {
            background: #9D00FF;
            border-color: #9D00FF;
            box-shadow: inset 0 0 0 3px #1a1a2a;
        }
        
        button {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #9D00FF 0%, #7a00cc 100%);
            border: none;
            border-radius: 6px;
            color: #fff;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 6px 12px rgba(157, 0, 255, 0.25);
            filter: brightness(1.1);
        }
        
        button:active {
            transform: translateY(1px);
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        button:disabled {
            background: #353545;
            color: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
            filter: none;
        }
        
        button.secondary {
            background: #353545;
            color: #e0e0e0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        button.secondary:hover {
            background: #404050;
            box-shadow: 0 6px 12px rgba(0,0,0,0.2);
        }
        
        button.danger {
            background: linear-gradient(135deg, #ff5252 0%, #d32f2f 100%);
        }
        
        button.danger:hover {
            box-shadow: 0 6px 12px rgba(211, 47, 47, 0.25);
        }
        
        .button-row {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
        }
        
        .button-row button {
            margin-bottom: 0;
            flex: 1;
        }
        
        .info-text {
            background: rgba(157, 0, 255, 0.08);
            border-left: 3px solid #9D00FF;
            padding: 12px 16px;
            margin-bottom: 20px;
            border-radius: 0 6px 6px 0;
            font-size: 13px;
            color: #a0a0a0;
            line-height: 1.5;
        }
        
        .footer {
            background: #20202e;
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .selected-count {
            font-size: 13px;
            color: #a0a0a0;
            font-weight: 600;
        }
        
        .footer button {
            width: auto;
            padding: 8px 20px;
            margin: 0;
            font-size: 12px;
        }
        
        .mirror-checkboxes {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .mirror-checkboxes .checkbox-wrapper {
            min-width: 0;
            justify-content: center;
            padding: 8px;
        }
        
        .main-element-info {
            background: rgba(156, 39, 176, 0.1);
            border: 1px solid rgba(156, 39, 176, 0.3);
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 12px;
            text-align: center;
            font-weight: 600;
            color: #e1bee7;
            font-size: 13px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="tabs">
            <button class="tab active" onclick="switchTab(0)">F3+</button>
            <button class="tab" onclick="switchTab(1)">Duplicate</button>
            <button class="tab" onclick="switchTab(2)">Between</button>
            <button class="tab" onclick="switchTab(3)">Shade+</button>
            <button class="tab" onclick="switchTab(4)">Mirror+</button>
            <button class="tab" onclick="switchTab(5)">Settings</button>
        </div>
        
        <div class="content">
            <!-- F3+ Tab -->
            <div class="tab-pane active" id="tab-0">
                <div class="section-header">Position</div>
                <div class="input-row">
                    <div class="input-field">
                        <label>X</label>
                        <input type="number" id="moveX" value="0" step="0.1">
                    </div>
                    <div class="input-field">
                        <label>Y</label>
                        <input type="number" id="moveY" value="0" step="0.1">
                    </div>
                    <div class="input-field">
                        <label>Z</label>
                        <input type="number" id="moveZ" value="0" step="0.1">
                    </div>
                </div>
                
                <div class="section-header">Rotation</div>
                <div class="input-row">
                    <div class="input-field">
                        <label>X</label>
                        <input type="number" id="rotateX" value="0" step="0.1">
                    </div>
                    <div class="input-field">
                        <label>Y</label>
                        <input type="number" id="rotateY" value="0" step="0.1">
                    </div>
                    <div class="input-field">
                        <label>Z</label>
                        <input type="number" id="rotateZ" value="0" step="0.1">
                    </div>
                </div>
                
                <div class="section-header">Properties</div>
                <div class="input-row">
                    <div class="input-field">
                        <label>Model</label>
                        <input type="number" id="model" value="3458">
                    </div>
                    <div class="input-field">
                        <label>Scale</label>
                        <input type="number" id="scale" value="1" step="0.1">
                    </div>
                </div>
                
                <div class="checkbox-group">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="collisions" checked>
                        <label for="collisions">Collisions</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="doublesided" checked>
                        <label for="doublesided">Doublesided</label>
                    </div>
                </div>
                
                <div class="button-row">
                    <button id="applyTransform" disabled>Apply Transform</button>
                    <button class="secondary" onclick="resetInput()">Reset</button>
                </div>
                <div class="button-row">
                    <button id="applyProperties" disabled>Apply Properties</button>
                    <button id="clone" class="secondary" disabled>Clone</button>
                </div>
            </div>
            
            <!-- Duplicate Tab -->
            <div class="tab-pane" id="tab-1">
                <div class="section-header">Position Offset</div>
                <div class="input-row">
                    <div class="input-field">
                        <label>X</label>
                        <input type="number" id="addMoveX" value="0" step="0.1">
                    </div>
                    <div class="input-field">
                        <label>Y</label>
                        <input type="number" id="addMoveY" value="0" step="0.1">
                    </div>
                    <div class="input-field">
                        <label>Z</label>
                        <input type="number" id="addMoveZ" value="0" step="0.1">
                    </div>
                </div>
                
                <div class="section-header">Rotation Offset</div>
                <div class="input-row">
                    <div class="input-field">
                        <label>X</label>
                        <input type="number" id="addRotateX" value="0" step="0.1">
                    </div>
                    <div class="input-field">
                        <label>Y</label>
                        <input type="number" id="addRotateY" value="0" step="0.1">
                    </div>
                    <div class="input-field">
                        <label>Z</label>
                        <input type="number" id="addRotateZ" value="0" step="0.1">
                    </div>
                </div>
                
                <div class="input-field">
                    <label>Count</label>
                    <input type="number" id="multiplier" value="5" min="1">
                </div>
                
                <button id="generate" disabled>Generate Duplicates</button>
                <button class="danger" onclick="duplicateUndo()">Undo Last</button>
            </div>
            
            <!-- Between Tab -->
            <div class="tab-pane" id="tab-2">
                <div class="info-text">
                    Select 2+ elements with Q<br>
                    Connects in selection order<br>
                    Recommended limit: 4 objects
                </div>
                
                <div class="input-field">
                    <label>Amount</label>
                    <input type="number" id="betweenAmount" value="5" min="1">
                </div>
                
                <div class="button-row">
                    <button onclick="betweenPreview()">Preview</button>
                    <button class="secondary" onclick="betweenClear()">Clear</button>
                </div>
                
                <button onclick="betweenGenerate()">Generate</button>
                <button class="danger" onclick="betweenUndo()">Undo Last</button>
            </div>
            
            <!-- Shade+ Tab -->
            <div class="tab-pane" id="tab-3">
                <div class="section-header">Sides</div>
                <div class="checkbox-group">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="shadeLeft">
                        <label for="shadeLeft">Left</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="shadeRight">
                        <label for="shadeRight">Right</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="shadeBottom">
                        <label for="shadeBottom">Bottom</label>
                    </div>
                </div>
                
                <div class="input-field">
                    <label>Front</label>
                    <select id="shadeFront">
                        <option value="none">None</option>
                    </select>
                </div>
                
                <div class="input-field">
                    <label>Back</label>
                    <select id="shadeBack">
                        <option value="none">None</option>
                    </select>
                </div>
                
                <div class="section-header">Shade Type</div>
                <div class="checkbox-group">
                    <div class="checkbox-wrapper">
                        <input type="radio" id="shadeLighter" name="shadeType" checked>
                        <label for="shadeLighter">Lighter (3458)</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="radio" id="shadeDarker" name="shadeType">
                        <label for="shadeDarker">Darker (8558)</label>
                    </div>
                </div>
                
                <button onclick="shadeApply()">Apply Shading</button>
                <button class="danger" onclick="shadeUndo()">Undo Last</button>
            </div>
            
            <!-- Mirror+ Tab -->
            <div class="tab-pane" id="tab-4">
                <div class="main-element-info" id="mirrorMainElement">Main element: not selected</div>
                <button class="secondary" onclick="selectMirrorMain()">Select Main Element</button>
                
                <div class="info-text">Select axes for position and rotation mirroring</div>
                
                <div class="section-header">Mirror Position</div>
                <div class="mirror-checkboxes">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="mirrorPosXPlus">
                        <label for="mirrorPosXPlus">X+</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="mirrorPosYPlus">
                        <label for="mirrorPosYPlus">Y+</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="mirrorPosZPlus">
                        <label for="mirrorPosZPlus">Z+</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="mirrorPosXMinus">
                        <label for="mirrorPosXMinus">X-</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="mirrorPosYMinus">
                        <label for="mirrorPosYMinus">Y-</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="mirrorPosZMinus">
                        <label for="mirrorPosZMinus">Z-</label>
                    </div>
                </div>
                
                <div class="section-header">Mirror Rotation</div>
                <div class="mirror-checkboxes">
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="mirrorRotXPlus">
                        <label for="mirrorRotXPlus">X+</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="mirrorRotYPlus">
                        <label for="mirrorRotYPlus">Y+</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="mirrorRotZPlus">
                        <label for="mirrorRotZPlus">Z+</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="mirrorRotXMinus">
                        <label for="mirrorRotXMinus">X-</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="mirrorRotYMinus">
                        <label for="mirrorRotYMinus">Y-</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="checkbox" id="mirrorRotZMinus">
                        <label for="mirrorRotZMinus">Z-</label>
                    </div>
                </div>
                
                <div class="button-row">
                    <button onclick="mirrorPreview()">Preview</button>
                    <button class="secondary" onclick="mirrorClear()">Clear</button>
                </div>
                
                <button onclick="mirrorGenerate()">Generate</button>
                <button class="danger" onclick="mirrorUndo()">Undo Last</button>
            </div>
            
            <!-- Settings Tab -->
            <div class="tab-pane" id="tab-5">
                <div class="section-header">Key Binds</div>
                <div class="input-field">
                    <label>Select Key</label>
                    <input type="text" id="selectKey" maxlength="1" value="q">
                </div>
                <div class="input-field">
                    <label>Toggle GUI Key</label>
                    <input type="text" id="toggleGuiKey" maxlength="1" value="u">
                </div>
                
                <div class="section-header">Selection Mode</div>
                <div class="checkbox-group">
                    <div class="checkbox-wrapper">
                        <input type="radio" id="selectionPerObject" name="selectionMode">
                        <label for="selectionPerObject">Per-object</label>
                    </div>
                    <div class="checkbox-wrapper">
                        <input type="radio" id="selectionToggle" name="selectionMode" checked>
                        <label for="selectionToggle">Toggle</label>
                    </div>
                </div>
                
                <div class="section-header">Auto-updater</div>
                <div class="info-text" id="autoUpdateInfo">Loading...</div>
                
                <div class="button-row">
                    <button onclick="saveSettings()">Apply Settings</button>
                    <button class="secondary" onclick="resetSettings()">Reset</button>
                </div>
            </div>
        </div>
        
        <div class="footer">
            <div class="selected-count" id="selectedCount">Selected: 0</div>
            <button id="deselectAll" disabled onclick="deselectAll()">Deselect All</button>
        </div>
    </div>
    
    <script>
        function switchTab(index) {
            document.querySelectorAll('.tab-pane').forEach(pane => pane.classList.remove('active'));
            document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
            
            document.getElementById('tab-' + index).classList.add('active');
            document.querySelectorAll('.tab')[index].classList.add('active');
            
            if (window.mta) {
                mta.triggerEvent('nmt:tabSwitched', index);
            }
        }
        
        function setupInputHandlers() {
            // Number inputs
            ['moveX', 'moveY', 'moveZ', 'rotateX', 'rotateY', 'rotateZ',
             'addMoveX', 'addMoveY', 'addMoveZ', 'addRotateX', 'addRotateY', 'addRotateZ',
             'multiplier', 'betweenAmount', 'model', 'scale'].forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.addEventListener('input', function() {
                        if (window.mta) {
                            mta.triggerEvent('nmt:inputChanged', id, parseFloat(this.value) || 0);
                        }
                    });
                }
            });
            
            // Checkboxes
            ['collisions', 'doublesided', 'shadeLeft', 'shadeRight', 'shadeBottom'].forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.addEventListener('change', function() {
                        if (window.mta) {
                            mta.triggerEvent('nmt:inputChanged', id, this.checked);
                        }
                    });
                }
            });
            
            // Mirror checkboxes with auto-preview
            ['mirrorPosXPlus', 'mirrorPosYPlus', 'mirrorPosZPlus',
             'mirrorPosXMinus', 'mirrorPosYMinus', 'mirrorPosZMinus',
             'mirrorRotXPlus', 'mirrorRotYPlus', 'mirrorRotZPlus',
             'mirrorRotXMinus', 'mirrorRotYMinus', 'mirrorRotZMinus'].forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.addEventListener('change', function() {
                        if (window.mta) {
                            mta.triggerEvent('nmt:inputChanged', id, this.checked);
                            // Auto-preview after a short delay
                            setTimeout(() => {
                                mirrorPreview();
                            }, 100);
                        }
                    });
                }
            });
            
            // Dropdowns
            const shadeFront = document.getElementById('shadeFront');
            if (shadeFront) {
                shadeFront.addEventListener('change', function() {
                    if (window.mta) {
                        mta.triggerEvent('nmt:inputChanged', 'shadeFront', this.selectedIndex);
                    }
                });
            }
            
            const shadeBack = document.getElementById('shadeBack');
            if (shadeBack) {
                shadeBack.addEventListener('change', function() {
                    if (window.mta) {
                        mta.triggerEvent('nmt:inputChanged', 'shadeBack', this.selectedIndex);
                    }
                });
            }
            
            // Radio buttons
            ['shadeLighter', 'shadeDarker'].forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.addEventListener('change', function() {
                        if (this.checked && window.mta) {
                            mta.triggerEvent('nmt:inputChanged', 'shadeType', id === 'shadeDarker' ? 'darker' : 'lighter');
                        }
                    });
                }
            });
            
            ['selectKey', 'toggleGuiKey'].forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.addEventListener('input', function() {
                        if (window.mta) {
                            mta.triggerEvent('nmt:inputChanged', id, this.value);
                        }
                    });
                }
            });
            
            ['selectionPerObject', 'selectionToggle'].forEach(id => {
                const el = document.getElementById(id);
                if (el) {
                    el.addEventListener('change', function() {
                        if (this.checked && window.mta) {
                            mta.triggerEvent('nmt:inputChanged', 'selectionMode', id === 'selectionToggle' ? 'toggle' : 'per-object');
                        }
                    });
                }
            });
            
            // Button handlers
            const btnApplyTransform = document.getElementById('applyTransform');
            if (btnApplyTransform) btnApplyTransform.addEventListener('click', () => window.mta && mta.triggerEvent('nmt:applyTransform'));
            
            const btnApplyProperties = document.getElementById('applyProperties');
            if (btnApplyProperties) btnApplyProperties.addEventListener('click', () => window.mta && mta.triggerEvent('nmt:applyProperties'));
            
            const btnClone = document.getElementById('clone');
            if (btnClone) btnClone.addEventListener('click', () => window.mta && mta.triggerEvent('nmt:clone'));
            
            const btnGenerate = document.getElementById('generate');
            if (btnGenerate) btnGenerate.addEventListener('click', () => window.mta && mta.triggerEvent('nmt:generate'));
        }
        
        function resetInput() {
            if (window.mta) {
                mta.triggerEvent('nmt:resetInput');
            }
        }
        
        function deselectAll() {
            if (window.mta) {
                mta.triggerEvent('nmt:deselectAll');
            }
        }
        
        function duplicateUndo() {
            if (window.mta) {
                mta.triggerEvent('nmt:duplicateUndo');
            }
        }
        
        function betweenPreview() {
            if (window.mta) {
                mta.triggerEvent('nmt:betweenPreview');
            }
        }
        
        function betweenClear() {
            if (window.mta) {
                mta.triggerEvent('nmt:betweenClear');
            }
        }
        
        function betweenGenerate() {
            if (window.mta) {
                mta.triggerEvent('nmt:betweenGenerate');
            }
        }
        
        function betweenUndo() {
            if (window.mta) {
                mta.triggerEvent('nmt:betweenUndo');
            }
        }
        
        function shadeApply() {
            if (window.mta) {
                mta.triggerEvent('nmt:shadeApply');
            }
        }
        
        function shadeUndo() {
            if (window.mta) {
                mta.triggerEvent('nmt:shadeUndo');
            }
        }
        
        function selectMirrorMain() {
            if (window.mta) {
                mta.triggerEvent('nmt:selectMirrorMain');
            }
        }
        
        function mirrorPreview() {
            if (window.mta) {
                mta.triggerEvent('nmt:mirrorPreview');
            }
        }
        
        function mirrorClear() {
            if (window.mta) {
                mta.triggerEvent('nmt:mirrorClear');
            }
        }
        
        function mirrorGenerate() {
            if (window.mta) {
                mta.triggerEvent('nmt:mirrorGenerate');
            }
        }
        
        function mirrorUndo() {
            if (window.mta) {
                mta.triggerEvent('nmt:mirrorUndo');
            }
        }
        
        function saveSettings() {
            if (window.mta) {
                mta.triggerEvent('nmt:saveSettings');
            }
        }
        
        function resetSettings() {
            if (window.mta) {
                mta.triggerEvent('nmt:resetSettings');
            }
        }
        
        setupInputHandlers();
    </script>
</body>
</html>